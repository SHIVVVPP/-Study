# 빌드와 실행

## 스케줄러에 동기화 처리를 추가한 결과

만일 동기화에 문제가 생겨 준비 리스트에 이상이 생겼다면 태스크 생성과 종료를 수십 번 반복하는 동안 예외가 발생하거나 태스크 리스트를 출력했을 때 리스트의 총 개수와 실제 TCB 풀을 돌면서 출력한 태스크의 개수가 일치하지 않을 것이다.

(책 773page)

책의 결과를 보면 태스크 ID의 상위 8바이트가 0x96F 부터 시작하므로 약 2,400개 이상의 태스크가 생성되고 삭제되었음을 알 수 있다.

그리고 태스크 리스트의 Total Count가 12로 표시되고, 그 아래에 12개의 태스크 정보가 표시되는 것으로 보아 태스크 정보에 이상이 없다는 것을 알 수 있다.

<hr>

## 태스크 사이의 동기화 처리 결과

앞서 변수 하나를 공유하여 차례로 증가시키면서 화면에 값을 출력하는 *kPrintNumberTask( )* 태스크를 동기화 처리 없이 세 개 생성했을 때 숫자와 출력된 메시지의 수가 뒤죽박죽인 것을 확인했다.

![image](https://user-images.githubusercontent.com/34773827/61798073-a1240b00-ae63-11e9-83c4-f78e188b1a6c.png)



뮤텍스를 사용 했을 때는 다음과 같다.

![image](https://user-images.githubusercontent.com/34773827/61797661-cd8b5780-ae62-11e9-9c95-2dce9e97961d.png)

몇 번을 반복해도 순차적으로 나오는데 반복시 태스크의 ID의 순서는 바뀌어도 출력되는 숫자의 순서와 개수는 항상 일정하다.

이것이 동기화 객체를 사용하는 이유이다.